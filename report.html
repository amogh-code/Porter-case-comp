<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Porter Strategy Report - Team Mind Flayer</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --porter-blue: #0044BB;
            --bg-gray: #f4f7f6;
            --text-dark: #333;
            --white: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-gray);
            color: var(--text-dark);
            margin: 0;
            padding: 0;
        }

        /* NAVIGATION */
        nav {
            background-color: var(--porter-blue);
            padding: 15px 0;
            text-align: center;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            margin: 0 20px;
            font-size: 1.1rem;
        }

        nav a:hover {
            text-decoration: underline;
        }

        /* CONTAINER */
        .container {
            max-width: 1000px;
            margin: 30px auto;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: var(--porter-blue);
            margin-bottom: 40px;
        }

        h2 {
            border-left: 5px solid var(--porter-blue);
            padding-left: 15px;
            margin-top: 40px;
            color: #444;
        }

        /* METRICS GRID */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .metric-card {
            background: var(--white);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            text-align: center;
        }

        .metric-val {
            font-size: 2rem;
            font-weight: bold;
            color: var(--porter-blue);
            margin-bottom: 5px;
        }

        .metric-label {
            color: #666;
            font-size: 0.9rem;
        }

        .metric-sub {
            font-size: 0.8rem;
            color: #e74c3c; /* Red for negative trends */
            margin-top: 5px;
        }

        /* CHART SECTIONS */
        .chart-container {
            background: var(--white);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }

        .chart-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .half-width {
            flex: 1;
            min-width: 300px;
        }

        /* TABLE STYLES */
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background-color: var(--porter-blue);
            color: white;
        }

        .insight-box {
            background-color: #e6f0ff;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #003366;
        }

    </style>
</head>
<body>

    <nav>
        <a href="index.html">← Back to Simulation</a>
        <a href="#">Strategic Report</a>
    </nav>

    <div class="container">
        <h1>Strategic Analysis & Unit Economics</h1>

        <h2>The Core Problem: Retention Hemorrhage</h2>
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-val">58%</div>
                <div class="metric-label">Annual Driver Churn</div>
                <div class="metric-sub">Up from 45% last year</div>
            </div>
            <div class="metric-card">
                <div class="metric-val">66%</div>
                <div class="metric-label">Trip Acceptance Rate</div>
                <div class="metric-sub">Down from 78%</div>
            </div>
            <div class="metric-card">
                <div class="metric-val">27 min</div>
                <div class="metric-label">Avg Idle Time</div>
                <div class="metric-sub">Up from 18 min</div>
            </div>
            <div class="metric-card">
                <div class="metric-val">40%</div>
                <div class="metric-label">Drivers Citing "Unpredictability"</div>
                <div class="metric-sub">Primary Pain Point</div>
            </div>
        </div>

        <div class="chart-row">
            <div class="half-width chart-container">
                <h3>Driver Funnel Leakage (Last 12 Months)</h3>
                <canvas id="funnelChart"></canvas>
                <div class="insight-box">
                    <strong>Insight:</strong> We lose 52% of drivers between Registration and Day 30 Active status. The onboarding process is leaky, but the real drop happens after the first month.
                </div>
            </div>

            <div class="half-width chart-container">
                <h3>Retention Decay: The "Cliff"</h3>
                <canvas id="retentionChart"></canvas>
                <div class="insight-box">
                    <strong>Insight:</strong> 90-day retention has plummeted to 42%. Drivers are multi-homing and leaving for short-term incentives elsewhere.
                </div>
            </div>
        </div>

        <h2>The Constraint: Unit Economics Pressure</h2>
        <p>Why we cannot simply increase cash incentives (Payouts).</p>
        
        <table>
            <thead>
                <tr>
                    <th>Metric (Per Order)</th>
                    <th>Current Value</th>
                    <th>Scenario: +₹20 Incentive</th>
                    <th>Scenario: +₹60 Incentive</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Customer Price</td>
                    <td>₹650</td>
                    <td>₹650</td>
                    <td>₹650</td>
                </tr>
                <tr>
                    <td>Driver Payout</td>
                    <td>₹470</td>
                    <td>₹490</td>
                    <td>₹530</td>
                </tr>
                <tr>
                    <td>Platform Margin</td>
                    <td>₹180</td>
                    <td>₹160</td>
                    <td>₹120</td>
                </tr>
                <tr>
                    <td>Tech & Ops Costs</td>
                    <td>(₹110)</td>
                    <td>(₹110)</td>
                    <td>(₹110)</td>
                </tr>
                <tr style="font-weight:bold; background-color:#f9f9f9;">
                    <td>Contribution Margin</td>
                    <td>₹70</td>
                    <td>₹50</td>
                    <td style="color:red;">₹10 (Danger Zone)</td>
                </tr>
            </tbody>
        </table>
        <div class="insight-box" style="background-color: #fff3cd; color: #856404; border: 1px solid #ffeeba;">
            <strong>Conclusion:</strong> Increasing cash incentives by just ₹60 destroys our contribution margin (drops to ₹10). 
            Therefore, our <strong>Gamified Benefits Strategy</strong> (Insurance, Education) is the only sustainable path as it relies on bulk-negotiated rates rather than per-order cash burn.
        </div>

        <div class="chart-container">
            <h3>Driver Decision Factors (Why they join/leave)</h3>
            <canvas id="factorsChart" style="max-height: 400px;"></canvas>
        </div>

    </div>

    <script>
        // 1. FUNNEL CHART
        const ctxFunnel = document.getElementById('funnelChart').getContext('2d');
        new Chart(ctxFunnel, {
            type: 'bar',
            data: {
                labels: ['Registered', 'Onboarded', 'Completed 1 Trip', 'Active 30 Days', 'Active 90 Days'],
                datasets: [{
                    label: 'Driver Count',
                    data: [100000, 82000, 68000, 49000, 42000],
                    backgroundColor: [
                        '#0044BB', '#2A6FDB', '#548FE8', '#7EAFF4', '#A8CFFF'
                    ]
                }]
            },
            options: {
                indexAxis: 'y', // Makes it a horizontal funnel-like bar
                plugins: { legend: { display: false } }
            }
        });

        // 2. RETENTION LINE CHART
        const ctxRet = document.getElementById('retentionChart').getContext('2d');
        new Chart(ctxRet, {
            type: 'line',
            data: {
                labels: ['Day 1', 'Day 30', 'Day 60', 'Day 90'],
                datasets: [{
                    label: 'Retention Rate (Current)',
                    data: [100, 62, 50, 42],
                    borderColor: '#e74c3c', // Red for bad
                    borderWidth: 3,
                    tension: 0.3
                },
                {
                    label: 'Retention Rate (Target with Strategy)',
                    data: [100, 75, 68, 60],
                    borderColor: '#2ecc71', // Green for target
                    borderWidth: 3,
                    borderDash: [5, 5],
                    tension: 0.3
                }]
            }
        });

        // 3. DECISION FACTORS DOUGHNUT
        const ctxFac = document.getElementById('factorsChart').getContext('2d');
        new Chart(ctxFac, {
            type: 'doughnut',
            data: {
                labels: ['Expected Earnings (41%)', 'Idle Time (24%)', 'Incentives (19%)', 'Ease of Orders (11%)', 'Loyalty (5%)'],
                datasets: [{
                    data: [41, 24, 19, 11, 5],
                    backgroundColor: ['#0044BB', '#3498db', '#95a5a6', '#bdc3c7', '#ecf0f1']
                }]
            }
        });
    </script>
</body>
</html>
